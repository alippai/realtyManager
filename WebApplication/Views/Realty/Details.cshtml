@model RealtyManager.Models.Realty

@{
    ViewBag.Title = "Details";
}

    <h1>@Html.DisplayFor(model => model.Address), @Html.DisplayFor(model => model.Room) rooms, @Html.DisplayFor(model => model.Price) Ft</h1>
    @if(ViewBag.editAccess) {
    <ul class="nav nav-tabs">
      <li class="active">
        <a href="#">View</a>
      </li>
      <li>@Html.ActionLink("Edit", "Edit", new { id=Model.RealtyId })</li>
    </ul>
    }
    @Html.ActionLink("← Back to the browsing", "Index", null, new { @class = "pull-right", @style  = "margin-top: -50px" })
    <div class="clearfix"></div>
   <div class="row">
      <div class="span6">

    
    <dl class="dl-horizontal">
        <dt>@Html.DisplayNameFor(model => model.Address)</dt>
        <dd>@Html.DisplayFor(model => model.Address)</dd>

        <dt>@Html.DisplayNameFor(model => model.Size)</dt>
        <dd>@Html.DisplayFor(model => model.Size)</dd>

        <dt>@Html.DisplayNameFor(model => model.Type)</dt>
        <dd>@Html.DisplayFor(model => model.Type)</dd>

        <dt>@Html.DisplayNameFor(model => model.Room)</dt>
        <dd>@Html.DisplayFor(model => model.Room)</dd>

        <dt>@Html.DisplayNameFor(model => model.Price)</dt>
        <dd>@Html.DisplayFor(model => model.Price)</dd>

        <dt>@Html.DisplayNameFor(model => model.Description)</dt>
        <dd>@Html.DisplayFor(model => model.Description)</dd>

        <dt>Check out the video </dt><dd>@if (Model.VideoLink != null) {
    <button class="btn videoLinkOpen" data-test="test" data-video="@Microsoft.Web.Helpers.Video.Flash(path: Model.VideoLink,
                 width: "960",
                 height: "640",
                 play: true,
                 loop: true,
                 menu:  false,
                 bgColor: "white",
                 quality: "medium",
                 scale: "exactfit",
                 windowMode: "window").ToHtmlString().Replace("\"", "\\\"")">Just click here!</button>
    }</dd>
    </dl>
</div>
<div class="span3">
    <section>
    <h3>Contact the owner</h3>
    <dl class="dl-horizontal">
            <dt>@Html.DisplayNameFor(model => model.Owner.FullName)</dt>
            <dd>@Html.DisplayFor(model => model.Owner.FullName)</dd>

            <dt>@Html.DisplayNameFor(model => model.Owner.Email)</dt>
            <dd>@Html.DisplayFor(model => model.Owner.Email)</dd>

            <dt>@Html.DisplayNameFor(model => model.Owner.Phone)</dt>
            <dd>@Html.DisplayFor(model => model.Owner.Phone)</dd>
        </dl>
    </section>
</div>
@if (Model.Images.Count > 0) {
<div class="clearfix"></div>
<div id="gallery" class="carousel slide">
  <!-- Carousel items -->
  <div class="carousel-inner">
     @foreach( var image in Model.Images ) {
        if(image == Model.Images.First()) {
            <div class="item active"><img src="@UrlHelper.GenerateContentUrl("/Realty/PhotoGallery/" + image.Id + ".ashx", ViewContext.HttpContext)" alt="" title="" /></div>

        } else {
            <div class="item"><img src="@UrlHelper.GenerateContentUrl("/Realty/PhotoGallery/" + image.Id + ".ashx", ViewContext.HttpContext)" alt="" title="" /></div>
        }
     }
  </div>
  <!-- Carousel nav -->
  <a class="carousel-control left" href="#gallery" data-slide="prev">&lsaquo;</a>
  <a class="carousel-control right" href="#gallery" data-slide="next">&rsaquo;</a>
</div>
}
